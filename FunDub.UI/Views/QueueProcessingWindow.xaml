<Window x:Class="FunDub.UI.Views.QueueProcessingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FunDub.UI.Views"
        xmlns:controls="clr-namespace:FunDub.UI.Views.Controls"
        mc:Ignorable="d"
        Title="QueueProcessingWindow" Height="450" Width="800">
    <Grid Background="#1E1E1E">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#252526" BorderBrush="#333" BorderThickness="0,0,0,1" Padding="15">
            <Grid>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <Button x:Name="EditeSelectedQueueButton" Style="{StaticResource ToolbarButtonStyle}"  ToolTip="Edit Item">
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE70F;"/>
                    </Button>
                    <Button x:Name="ClearQueueButton" Style="{StaticResource ClearButtonStyle}" Width="40" Margin="10,0,0,0">
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE74D;"/>
                    </Button>
                </StackPanel>

                <Button x:Name="StartProcessingButton" Style="{StaticResource StartButtonStyle}" Width="150" HorizontalAlignment="Right" Margin="0,0,0,0" Click="StartProcessingButton_Click" >
                    <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xEDB5;" FontSize="25" VerticalAlignment="Center" HorizontalAlignment="Left" />
                        <TextBlock x:Name="StartTextBlock" FontFamily="Nunito Black" Text="Start" FontSize="28" HorizontalAlignment="Center" Margin="30,0,0,0" TextAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                </Button>
            </Grid>
        </Border>

        <DataGrid x:Name="QueueGrid" Grid.Row="1" ItemsSource="{Binding SequenceData}"
              Style="{StaticResource ModernDataGridStyle}">
        </DataGrid>

        <Border Grid.Row="2" Background="#252526" Padding="15" BorderBrush="#333" BorderThickness="0,1,0,1">
            <Grid>
                <CheckBox x:Name="AutomaticShutdownPC" Content="Shutdown PC when finished" 
                      Foreground="#AAA" VerticalAlignment="Center"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock Text="Engine:" Foreground="#AAA" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <ComboBox x:Name="RenderingEngineComboBox" Width="250" Style="{StaticResource ModernComboBoxStyle}">
                        <ComboBoxItem Content="GPU Acceleration (NVENC)"/>
                        <ComboBoxItem Content="CPU Acceleration"/>
                    </ComboBox>
                </StackPanel>
            </Grid>
        </Border>

        <Border Grid.Row="3" Background="#1E1E1E" Padding="20">
            <StackPanel>
                <Grid Margin="0,0,0,10">
                    <TextBlock Text="CURRENT TASK:" Foreground="#555" FontWeight="Bold" FontSize="10"/>
                    <TextBlock x:Name="CurrentRenderingFileLabel" Text="example_video.mp4" 
                           Foreground="White" FontSize="16" Margin="0,15,0,0"/>
                </Grid>

                <ProgressBar x:Name="OverallProgressBar" Height="8" Background="#333" Foreground="#2196F3" BorderThickness="0"/>

                <Grid Margin="0,5,0,20">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <TextBlock Text="Elapsed: " Foreground="#777"/>
                        <TextBlock x:Name="ElapsedTimeLabel" Text="00:00:00" Foreground="White" FontWeight="Bold"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                        <TextBlock Text="Remaining: " Foreground="#777"/>
                        <TextBlock x:Name="RemainingTimeLabel" Text="00:00:00" Foreground="White" FontWeight="Bold"/>
                    </StackPanel>
                </Grid>

                <Expander Header="Advanced Performance Monitor" Foreground="#AAA" Background="Transparent">
                    <Border Background="#161616" CornerRadius="4" Padding="15" Margin="0,10,0,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Border Background="Black" CornerRadius="2" Height="120">
                                <MediaElement x:Name="PreviewMediaElement" LoadedBehavior="Manual" Stretch="Uniform"/>
                            </Border>

                            <UniformGrid Grid.Column="1" Columns="3" Margin="20,0,0,0">
                                <controls:StatBlock x:Name="FPSLabel" Label="FPS" Value="0"/>
                                <controls:StatBlock x:Name="CurrentFrameLabel" Label="Frame" Value="0"/>
                                <controls:StatBlock x:Name="BitrateLabel" Label="Bitrate" Value="0 kbps"/>
                                <controls:StatBlock x:Name="CPUUsageLabel" Label="CPU" Value="0%"/>
                                <controls:StatBlock x:Name="GPUUsageLabel" Label="GPU" Value="0%"/>
                                <controls:StatBlock x:Name="RAMUsageLabel" Label="RAM" Value="0 MB"/>
                            </UniformGrid>
                        </Grid>
                    </Border>
                </Expander>
            </StackPanel>
        </Border>
    </Grid>
</Window>
